const body=document.body,time=document.getElementById("time"),startButton=document.getElementById("startButton"),pauseButton=document.getElementById("pauseButton"),resetButton=document.getElementById("resetButton"),arrowsToChangeTimer=document.querySelectorAll(".arrow"),currentProgress=document.getElementById("currentProgress"),defaultMinutes=25;let totalTime=getDisplayedTimeInSeconds(),timeToRun=getDisplayedTimeInSeconds(),runTime=0,runningClock=null;function hideArrows(){arrowsToChangeTimer.forEach(e=>{e.style.visibility="hidden"})}function showArrows(){arrowsToChangeTimer.forEach(e=>{e.style.visibility="visible"})}function toggleButton(e){switch(e){case"startButton":startButton.disabled=!0,pauseButton.disabled=!1;break;case"pauseButton":startButton.disabled=!1,pauseButton.disabled=!0;break;case"resetButton":startButton.disabled=!1,pauseButton.disabled=!1}}function runClock(){runningClock=setInterval(function(){countDown(),updateProgressBar()},1e3),currentProgress.style.backgroundColor="DarkGreen"}function countDown(){runTime++,updateTimeDisplayed(timeToRun-=1),timeToRun<=0&&clearInterval(runningClock)}function pauseClock(){clearInterval(runningClock),currentProgress.style.backgroundColor="DarkRed"}function changeTimer(e){switch(e.id){case"increase-by-one":updateTimeDisplayed(addMinute());break;case"increase-by-five":updateTimeDisplayed(addMinute(5));break;case"decrease-by-one":updateTimeDisplayed(removeMinute());break;case"decrease-by-five":updateTimeDisplayed(removeMinute(5))}}function updateTimeDisplayed(e){let t=returnTimeInParts(e);time.innerText=t.minutes+":"+t.seconds}function addMinute(e=1){let t=getDisplayedTimeInSeconds();return t<3660-60*e&&(t+=60*e,totalTime+=60*e,timeToRun+=60*e,updateProgressBar()),t}function removeMinute(e=1){let t=getDisplayedTimeInSeconds();return t>60*e&&(t-=60*e,totalTime-=60*e,timeToRun-=60*e,updateProgressBar()),t}function justifySingleDigits(e){return e<10&&(e="0"+e),e}function returnTimeInParts(e){let t=Math.floor(e%60),n=Math.floor(e/60%61);return{seconds:justifySingleDigits(t),minutes:justifySingleDigits(n)}}function getDisplayedTimeInSeconds(){let e=document.getElementById("time").innerText.match(/^\d+/),t=document.getElementById("time").innerText.match(/\d+$/);return 60*Number(e)+Number(t)}function updateProgressBar(){setProgressBarWidth(getProgressPercent(runTime))}function getProgressPercent(e){return e/totalTime*100}function setProgressBarWidth(e){currentProgress.style.width=e+"%"}startButton.addEventListener("click",function(){toggleButton(this.id),runClock(),hideArrows(),body.style.backgroundColor="LightGreen"}),pauseButton.addEventListener("click",function(){runningClock&&(toggleButton(this.id),pauseClock(),showArrows(),body.style.backgroundColor="LightSalmon")}),resetButton.addEventListener("click",function(){toggleButton(this.id),pauseClock(),showArrows(),updateTimeDisplayed(1500),totalTime=timeToRun=1500,runTime=currentProgress.style.width=0,runningClock=null,body.style.backgroundColor="White"}),arrowsToChangeTimer.forEach(e=>{e.addEventListener("click",()=>changeTimer(e))});